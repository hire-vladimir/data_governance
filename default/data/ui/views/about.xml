<dashboard version="1.1">
  <label>About</label>
  <description/>
  <search id="v_base">
    <query>| `compute_apps_to_users_and_roles` | where app="data_governance"</query>
  </search>
  <row>
    <panel>
      <single>
        <title>Version</title>
        <search>
          <query>| rest splunk_server=local /services/apps/local/data_governance | fields version</query>
          <earliest>0</earliest>
        </search>
        <option name="drilldown">none</option>
      </single>
    </panel>
    <panel>
      <single>
        <title>Author</title>
        <search>
          <query>|localop | stats count | eval authorContact="hire.vladimir@gmail.com" | fields authorContact</query>
        </search>
        <option name="drilldown">all</option>
        <option name="underLabel">email</option>
        <drilldown>
          <link>mailto:hire.vladimir@gmail.com</link>
        </drilldown>
      </single>
    </panel>
  </row>
  <row>
    <panel>
      <single>
        <title>Did you know?</title>
        <search base="v_base">
          <query>| fields user_read_count</query>
        </search>
        <option name="drilldown">none</option>
        <option name="underLabel">Users with read access</option>
      </single>
      <single>
       <search base="v_base">
          <query>| fields user_write_count</query>
        </search>
        <option name="drilldown">none</option>
        <option name="underLabel">Users with write access</option>
      </single>
      <single>
        <title/>
        <search base="v_base">
          <query>| fields role_read_count</query>
        </search>
        <option name="drilldown">none</option>
        <option name="underLabel">Roles with read access</option>
      </single>
      <single>
        <title/>
        <search base="v_base">
          <query>| fields role_write_count</query>
        </search>
        <option name="drilldown">none</option>
        <option name="underLabel">Roles with write access</option>
      </single>
    </panel>
  </row>
  <row>
    <panel>
      <table>
        <title>Description</title>
        <search>
          <query>| rest splunk_server=local /services/apps/local/data_governance | fields label, description | rename label AS name</query>
          <earliest>$earliest$</earliest>
          <latest>$latest$</latest>
        </search>
        <option name="wrap">true</option>
        <option name="rowNumbers">false</option>
        <option name="dataOverlayMode">none</option>
        <option name="drilldown">none</option>
        <option name="count">10</option>
      </table>
    </panel>
  </row>
  <row>
    <panel>
      <html>
        <h2>About this project</h2>
        This project is maintained on GitHub, follow the project @ <a href="https://github.com/hire-vladimir/data_governance">https://github.com/hire-vladimir/data_governance</a>
      </html>
    </panel>
  </row>
  <row>
    <panel>
      <table>
        <title>Special thanks (alphabetical)</title>
        <search>
          <query>| localop | stats count | fields - count | eval specialThanks=`special_names` | makemv delim=", " specialThanks | mvexpand specialThanks | sort specialThanks | mvcombine specialThanks | `prettymv(specialThanks)` | rename specialThanks AS "Names"</query>
          <earliest>0</earliest>
        </search>
        <option name="wrap">true</option>
        <option name="rowNumbers">false</option>
        <option name="dataOverlayMode">none</option>
        <option name="drilldown">none</option>
        <option name="count">10</option>
      </table>
    </panel>
  </row>
</dashboard>